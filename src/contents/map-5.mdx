---
title: "Map v.5"
date: "2024-02-13"
slug: "map-5"
description: "An easy to use component for building powerful and fully customizable maps"
menu_position: 6
---


# The WebGIS

import { MapComp, RasterLayer, VectorLayer } from "../modules/myMap/myMap.js"
import { LayersControl, ScaleControl } from "react-leaflet"
import { Row, Col } from "react-bootstrap"

## Sites by (macro-) typology

---

**Legend**

<div className="d-flex flex flex-wrap">
  {
    [
      ['Campsite', '#00a5e3'],
      ['Cemetery', '#8dd7bf'],
      ['Inscription', '#ff90c5'],
      ['Isolated Building/Feature', '#ff5768'],
      ['Isolated/Scatter of Finds', '#ffbf65'],
      ['Rock Art', '#c05780'],
      ['Settlement', '#cff800']
    ].map( (e, i) => {
      return <div className="p-2" key={i}>
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" style={{
          width: '.6em',
          display: 'inline',
          marginRight: '.5rem',
          position: 'relative',
          verticalAlign: 'middle'
        }}>
          <circle cx="50%" cy="50%" r="50%" fill={e[1]} />
        </svg>
        <span>{e[0]}</span>
        </div>
    })
  }
</div>
---


<MapComp
  height="600px"
  baseLayers="EsriSatellite, EsriTopo, OSM">

  <ScaleControl />

  <LayersControl collapsed={ false }>
    <RasterLayer 
      name="Corona"
      url="https://swift.cloud.garr.it/swift/v1/corona_sudan/{z}/{x}/{y}.png"
      checked={true}
      asOverlay={true} />
  </LayersControl>
  
  <LayersControl collapsed={ false }>
    <VectorLayer 
      name="Flooding Nile: 86"
      path2geojson="../data/flooding-nile.geojson"
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.name}</strong>
        Level: ${attribs.level}` }
      }
      filter={ f => f.properties.level === 86 }
      />
    
    <VectorLayer 
      name="Flooding Nile: 94.5"
      path2geojson="../data/flooding-nile.geojson"
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.name}</strong>
        Level: ${attribs.level}` }
      }
      filter={ f => f.properties.level === 94.5 }
      checked={false}
      />
  </LayersControl>
  
  <LayersControl collapsed={false}>
    
    <VectorLayer 
      name="Phase 1 (3800-3500 BCE)"
      path2geojson="../data/sites.geojson"
      checked={true}
      fitToContent={ true }
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.macrotype} > ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      pointToLayer={
        (f, ll) => {

          const mapType = {
            'Campsite': '#00a5e3',
            'Cemetery': '#8dd7bf',
            'Inscription': '#ff90c5',
            'Isolated Building/Feature': '#ff5768',
            'Isolated/Scatter of Finds': '#ffbf65',
            'Rock Art': '#c05780',
            'Settlement': '#cff800'
          }
          return L.circleMarker(ll, {
            radius: 4,
            fillColor: mapType[f.properties.macrotype] ? mapType[f.properties.macrotype] : '#ebebeb',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }
      }
        filter={f => (f.properties.ph1 === 'X') }
    />

    <VectorLayer 
      name="Phase 2 (3500-3300 BCE)"
      path2geojson="../data/sites.geojson"
      checked={true}
      fitToContent={ true }
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.macrotype} > ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      pointToLayer={
        (f, ll) => {

          const mapType = {
            'Campsite': '#00a5e3',
            'Cemetery': '#8dd7bf',
            'Inscription': '#ff90c5',
            'Isolated Building/Feature': '#ff5768',
            'Isolated/Scatter of Finds': '#ffbf65',
            'Rock Art': '#c05780',
            'Settlement': '#cff800'
          }
          return L.circleMarker(ll, {
            radius: 4,
            fillColor: mapType[f.properties.macrotype] ? mapType[f.properties.macrotype] : '#ebebeb',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }
      }
      filter={f => (f.properties.ph2 === 'X') }
    />

    <VectorLayer 
      name="Phase 3 (3300-3100 BCE)"
      path2geojson="../data/sites.geojson"
      checked={true}
      fitToContent={ true }
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.macrotype} > ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      pointToLayer={
        (f, ll) => {

          const mapType = {
            'Campsite': '#00a5e3',
            'Cemetery': '#8dd7bf',
            'Inscription': '#ff90c5',
            'Isolated Building/Feature': '#ff5768',
            'Isolated/Scatter of Finds': '#ffbf65',
            'Rock Art': '#c05780',
            'Settlement': '#cff800'
          }
          return L.circleMarker(ll, {
            radius: 4,
            fillColor: mapType[f.properties.macrotype] ? mapType[f.properties.macrotype] : '#ebebeb',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }
      }
      filter={f => (f.properties.ph3 === 'X') }
    />
    
    <VectorLayer 
      name="Phase 4 (3100-2650 BCE)"
      path2geojson="../data/sites.geojson"
      checked={true}
      fitToContent={ true }
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.macrotype} > ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      pointToLayer={
        (f, ll) => {

          const mapType = {
            'Campsite': '#00a5e3',
            'Cemetery': '#8dd7bf',
            'Inscription': '#ff90c5',
            'Isolated Building/Feature': '#ff5768',
            'Isolated/Scatter of Finds': '#ffbf65',
            'Rock Art': '#c05780',
            'Settlement': '#cff800'
          }
          return L.circleMarker(ll, {
            radius: 4,
            fillColor: mapType[f.properties.macrotype] ? mapType[f.properties.macrotype] : '#ebebeb',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }
      }
      filter={f => (f.properties.ph4 === 'X') }
    />
    
    <VectorLayer 
      name="Phase 5 (2650-2500 BCE)"
      path2geojson="../data/sites.geojson"
      checked={true}
      fitToContent={ true }
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.macrotype} > ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      pointToLayer={
        (f, ll) => {

          const mapType = {
            'Campsite': '#00a5e3',
            'Cemetery': '#8dd7bf',
            'Inscription': '#ff90c5',
            'Isolated Building/Feature': '#ff5768',
            'Isolated/Scatter of Finds': '#ffbf65',
            'Rock Art': '#c05780',
            'Settlement': '#cff800'
          }
          return L.circleMarker(ll, {
            radius: 4,
            fillColor: mapType[f.properties.macrotype] ? mapType[f.properties.macrotype] : '#ebebeb',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }
      }
      filter={f => (f.properties.ph5 === 'X') }
    />

    <VectorLayer 
      name="Phase 6 (2500-2300 BCE)"
      path2geojson="../data/sites.geojson"
      checked={true}
      fitToContent={ true }
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.macrotype} > ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      pointToLayer={
        (f, ll) => {

          const mapType = {
            'Campsite': '#00a5e3',
            'Cemetery': '#8dd7bf',
            'Inscription': '#ff90c5',
            'Isolated Building/Feature': '#ff5768',
            'Isolated/Scatter of Finds': '#ffbf65',
            'Rock Art': '#c05780',
            'Settlement': '#cff800'
          }
          return L.circleMarker(ll, {
            radius: 4,
            fillColor: mapType[f.properties.macrotype] ? mapType[f.properties.macrotype] : '#ebebeb',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }
      }
      filter={f => (f.properties.ph6 === 'X') }
    />


  </LayersControl>

  
</MapComp>

---


## Sites by phase

<Row>
  <Col md={4}>
    ### Phase 1
    <MapComp
      height="400px"
      center= "24.173,32.911,9"
      baseLayers="EsriSatellite, EsriTopo, OSM">
  
      <VectorLayer 
        name="Sites"
        path2geojson="../data/sites.geojson"
        popupTemplate={
          (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
          <br />— ${attribs.type}
          <hr />${attribs.bibliography}` }
        }
        checked={true}
        pointToLayer={
          (f, ll) => {

            const mapType = {
              'Campsite': '#00a5e3',
              'Cemetery': '#8dd7bf',
              'Inscription': '#ff90c5',
              'Isolated Building/Feature': '#ff5768',
              'Isolated/Scatter of Finds': '#ffbf65',
              'Rock Art': '#c05780',
              'Settlement': '#cff800'
            }
            return L.circleMarker(ll, {
              radius: 4,
              fillColor: mapType[f.properties.macrotype] ? mapType[f.properties.macrotype] : '#ebebeb',
              color: "#000",
              weight: 1,
              opacity: 1,
              fillOpacity: 0.8
            });
          }
        }
        filter={f => (f.properties.ph1 === 'X') }
      />
</MapComp>
  </Col>
  <Col md={4}>
    ### Phase 2
    <MapComp
  height="400px"
  center= "24.173,32.911,9"
  baseLayers="EsriSatellite, EsriTopo, OSM">
  
  <VectorLayer 
    name="Sites"
    path2geojson="../data/sites.geojson"
    popupTemplate={
      (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
      <br />— ${attribs.type}
      <hr />${attribs.bibliography}` }
    }
    checked={true}
    pointToLayer={
          (f, ll) => {

            const mapType = {
              'Campsite': '#00a5e3',
              'Cemetery': '#8dd7bf',
              'Inscription': '#ff90c5',
              'Isolated Building/Feature': '#ff5768',
              'Isolated/Scatter of Finds': '#ffbf65',
              'Rock Art': '#c05780',
              'Settlement': '#cff800'
            }
            return L.circleMarker(ll, {
              radius: 4,
              fillColor: mapType[f.properties.macrotype] ? mapType[f.properties.macrotype] : '#ebebeb',
              color: "#000",
              weight: 1,
              opacity: 1,
              fillOpacity: 0.8
            });
          }
        }
      filter={f => (f.properties.ph2 === 'X') }
  />
</MapComp>
  </Col>
  <Col md={4}>

    ### Phase 3
    <MapComp
  height="400px"
  center= "24.173,32.911,9"
  baseLayers="EsriSatellite, EsriTopo, OSM">
  
  <VectorLayer 
    name="Sites"
    path2geojson="../data/sites.geojson"
    popupTemplate={
      (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
      <br />— ${attribs.type}
      <hr />${attribs.bibliography}` }
    }
    checked={true}
    pointToLayer={
      (f, ll) => {

        const mapType = {
          'Campsite': '#00a5e3',
          'Cemetery': '#8dd7bf',
          'Inscription': '#ff90c5',
          'Isolated Building/Feature': '#ff5768',
          'Isolated/Scatter of Finds': '#ffbf65',
          'Rock Art': '#c05780',
          'Settlement': '#cff800'
        }
        return L.circleMarker(ll, {
          radius: 4,
          fillColor: mapType[f.properties.macrotype] ? mapType[f.properties.macrotype] : '#ebebeb',
          color: "#000",
          weight: 1,
          opacity: 1,
          fillOpacity: 0.8
        });
      }
    }
    filter={f => (f.properties.ph3 === 'X') }
  />
</MapComp>
  </Col>
</Row>

<Row className="mt-5">
    <Col md={4}>
    ### Phase 4
    <MapComp
  height="400px"
  center= "24.173,32.911,9"
  baseLayers="EsriSatellite, EsriTopo, OSM">
  
  <VectorLayer 
    name="Sites"
    path2geojson="../data/sites.geojson"
    popupTemplate={
      (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
      <br />— ${attribs.type}
      <hr />${attribs.bibliography}` }
    }
    checked={true}
    pointToLayer={
      (f, ll) => {

        const mapType = {
          'Campsite': '#00a5e3',
          'Cemetery': '#8dd7bf',
          'Inscription': '#ff90c5',
          'Isolated Building/Feature': '#ff5768',
          'Isolated/Scatter of Finds': '#ffbf65',
          'Rock Art': '#c05780',
          'Settlement': '#cff800'
        }
        return L.circleMarker(ll, {
          radius: 4,
          fillColor: mapType[f.properties.macrotype] ? mapType[f.properties.macrotype] : '#ebebeb',
          color: "#000",
          weight: 1,
          opacity: 1,
          fillOpacity: 0.8
        });
      }
    }
    filter={f => (f.properties.ph4 === 'X') }
  />
</MapComp>
  </Col>
  <Col md={4}>

    ### Phase 5
    <MapComp
  height="400px"
  center= "24.173,32.911,9"
  baseLayers="EsriSatellite, EsriTopo, OSM">
  
  <VectorLayer 
    name="Sites"
    path2geojson="../data/sites.geojson"
    popupTemplate={
      (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
      <br />— ${attribs.type}
      <hr />${attribs.bibliography}` }
    }
    checked={true}
    pointToLayer={
      (f, ll) => {

        const mapType = {
          'Campsite': '#00a5e3',
          'Cemetery': '#8dd7bf',
          'Inscription': '#ff90c5',
          'Isolated Building/Feature': '#ff5768',
          'Isolated/Scatter of Finds': '#ffbf65',
          'Rock Art': '#c05780',
          'Settlement': '#cff800'
        }
        return L.circleMarker(ll, {
          radius: 4,
          fillColor: mapType[f.properties.macrotype] ? mapType[f.properties.macrotype] : '#ebebeb',
          color: "#000",
          weight: 1,
          opacity: 1,
          fillOpacity: 0.8
        });
      }
    }
    filter={f => (f.properties.ph5 === 'X') }
  />
</MapComp>
  </Col>
  <Col md={4}>

    ### Phase 6
    <MapComp
  height="400px"
  center= "24.173,32.911,9"
  baseLayers="EsriSatellite, EsriTopo, OSM">
  
  <VectorLayer 
    name="Sites"
    path2geojson="../data/sites.geojson"
    popupTemplate={
      (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
      <br />— ${attribs.type}
      <hr />${attribs.bibliography}` }
    }
    checked={true}
    pointToLayer={
      (f, ll) => {

        const mapType = {
          'Campsite': '#00a5e3',
          'Cemetery': '#8dd7bf',
          'Inscription': '#ff90c5',
          'Isolated Building/Feature': '#ff5768',
          'Isolated/Scatter of Finds': '#ffbf65',
          'Rock Art': '#c05780',
          'Settlement': '#cff800'
        }
        return L.circleMarker(ll, {
          radius: 4,
          fillColor: mapType[f.properties.macrotype] ? mapType[f.properties.macrotype] : '#ebebeb',
          color: "#000",
          weight: 1,
          opacity: 1,
          fillOpacity: 0.8
        });
      }
    }
      filter={f => (f.properties.ph6 === 'X') }
  />
</MapComp>
  </Col>
</Row>
