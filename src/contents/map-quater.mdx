---
title: "The Web-based map v.4"
date: "2024-02-13"
slug: "map-quater"
description: "An easy to use component for building powerful and fully customizable maps"
menu_position: 5
---


# The WebGIS

import { MapComp, RasterLayer, VectorLayer } from "../modules/myMap/myMap.js"
import { LayersControl, ScaleControl } from "react-leaflet"
import { Row, Col } from "react-bootstrap"

## Sites by (macro-) typology

---

**Legend**

<div className="d-flex flex flex-wrap">
  {
    [
      ['Campsite', '#00a5e3'],
      ['Cemetery', '#8dd7bf'],
      ['Inscription', '#ff90c5'],
      ['Isolated Building/Feature', '#ff5768'],
      ['Isolated/Scatter of Finds', '#ffbf65'],
      ['Rock Art', '#c05780'],
      ['Settlement', '#cff800']
    ].map( (e, i) => {
      return <div className="p-2" key={i}>
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" style={{
          width: '.6em',
          display: 'inline',
          marginRight: '.5rem',
          position: 'relative',
          verticalAlign: 'middle'
        }}>
          <circle cx="50%" cy="50%" r="50%" fill={e[1]} />
        </svg>
        <span>{e[0]}</span>
        </div>
    })
  }
</div>
---

<div className="d-flex flex flex-wrap">
  {
    [
      ['Phase 1', '#00a5e3'],
      ['Phase 2', '#8dd7bf'],
      ['Phase 3', '#ff90c5'],
      ['Phase 4', '#ff5768'],
      ['Phase 5', '#ffbf65'],
      ['Phase 6', '#c05780'],
    ].map( (e, i) => {
      return <div className="p-2" key={i}>
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" style={{
          width: '.6em',
          display: 'inline',
          marginRight: '.5rem',
          position: 'relative',
          verticalAlign: 'middle'
        }}>
          <circle cx="50%" cy="50%" r="50%" fill={e[1]} />
        </svg>
        <span>{e[0]}</span>
        </div>
    })
  }
</div>


<MapComp
  height="600px"
  center= "24.173,32.911,9"
  baseLayers="EsriSatellite, EsriTopo, OSM">
  <ScaleControl />

  <LayersControl collapsed={ false }>

  <RasterLayer 
    name="Corona"
    url="https://swift.cloud.garr.it/swift/v1/corona_sudan/{z}/{x}/{y}.png"
    checked={true}
    asOverlay={true} />
  </LayersControl>
  
  <LayersControl collapsed={ false }>
    <VectorLayer 
      name="Flooding Nile: 86"
      path2geojson="../data/flooding-nile.geojson"
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name}</strong>
        Level: ${attribs.level}` }
      }
      filter={ f => f.properties.level === 86 }
      />
    
    <VectorLayer 
      name="Flooding Nile: 94.5"
      path2geojson="../data/flooding-nile.geojson"
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name}</strong>
        Level: ${attribs.level}` }
      }
      filter={ f => f.properties.level === 94.5 }
      checked={false}
      />
  </LayersControl>
  
  <LayersControl collapsed={false}>
    <VectorLayer 
      name="Campsites"
      path2geojson="../data/sites.geojson"
      checked={true}
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      filter={ f => f.properties.macrotype === 'Campsite' }
      pointToLayer={
        (f, ll) => {
        return L.circleMarker(ll, {
            radius: 4,
            fillColor: '#00a5e3',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }}
    />

    <VectorLayer 
      name="Cemeteries"
      path2geojson="../data/sites.geojson"
      checked={true}
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      filter={ f => f.properties.macrotype === 'Cemetery' }
      pointToLayer={
        (f, ll) => {
        return L.circleMarker(ll, {
            radius: 4,
            fillColor: '#8dd7bf',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }}
    />
    
    <VectorLayer 
      name="Inscriptions"
      path2geojson="../data/sites.geojson"
      checked={true}
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      filter={ f => f.properties.macrotype === 'Inscription' }
      pointToLayer={
        (f, ll) => {
        return L.circleMarker(ll, {
            radius: 4,
            fillColor: '#ff90c5',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }}
    />
    <VectorLayer 
      name="Isolated Building/Feature"
      path2geojson="../data/sites.geojson"
      checked={true}
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      filter={ f => f.properties.macrotype === 'Isolated Building/Feature' }
      pointToLayer={
        (f, ll) => {
        return L.circleMarker(ll, {
            radius: 4,
            fillColor: '#ff5768',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }}
    />
    <VectorLayer 
      name="Isolated/Scatter of Finds"
      path2geojson="../data/sites.geojson"
      checked={true}
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      filter={ f => f.properties.macrotype === 'Isolated/Scatter of Finds' }
      pointToLayer={
        (f, ll) => {
        return L.circleMarker(ll, {
            radius: 4,
            fillColor: '#ffbf65',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }}
    />
    <VectorLayer 
      name="Rock Art"
      path2geojson="../data/sites.geojson"
      checked={true}
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      filter={ f => f.properties.macrotype === 'Rock Art' }
      pointToLayer={
        (f, ll) => {
        return L.circleMarker(ll, {
            radius: 4,
            fillColor: '#c05780',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }}
    />
    <VectorLayer 
      name="Settlements"
      path2geojson="../data/sites.geojson"
      checked={true}
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      filter={ f => f.properties.macrotype === 'Settlement' }
      pointToLayer={
        (f, ll) => {
        return L.circleMarker(ll, {
            radius: 4,
            fillColor: '#cff800',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }}
    />
  </LayersControl>

  <LayersControl collapsed={ false }>
    <VectorLayer 
      name="Phase 1"
      path2geojson="../data/sites.geojson"
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      pointToLayer={
        (f, ll) => {
          return L.circleMarker(ll, {
            radius: 4,
            fillColor: '#00a5e3',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }}
        filter={f => (f.properties.ph1 === 'X') }
    />

    <VectorLayer 
      name="Phase 2"
      path2geojson="../data/sites.geojson"
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      pointToLayer={
        (f, ll) => {
          return L.circleMarker(ll, {
            radius: 4,
            fillColor: '#8dd7bf',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }}
        filter={f => (f.properties.ph2 === 'X') }
    />
    <VectorLayer 
      name="Phase 3"
      path2geojson="../data/sites.geojson"
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      pointToLayer={
        (f, ll) => {
          return L.circleMarker(ll, {
            radius: 4,
            fillColor: '#ff90c5',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }}
        filter={f => (f.properties.ph3 === 'X') }
    />
    <VectorLayer 
      name="Phase 4"
      path2geojson="../data/sites.geojson"
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      pointToLayer={
        (f, ll) => {
          return L.circleMarker(ll, {
            radius: 4,
            fillColor: '#ff5768',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }}
        filter={f => (f.properties.ph4 === 'X') }
    />
    <VectorLayer 
      name="Phase 5"
      path2geojson="../data/sites.geojson"
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      pointToLayer={
        (f, ll) => {
          return L.circleMarker(ll, {
            radius: 4,
            fillColor: '#ffbf65',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }}
        filter={f => (f.properties.ph5 === 'X') }
    />
    <VectorLayer 
      name="Phase 6"
      path2geojson="../data/sites.geojson"
      popupTemplate={
        (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
        <br />— ${attribs.type}
        <hr />${attribs.bibliography}` }
      }
      pointToLayer={
        (f, ll) => {
          return L.circleMarker(ll, {
            radius: 4,
            fillColor: '#c05780',
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
          });
        }}
        filter={f => (f.properties.ph6 === 'X') }
    />
  </LayersControl>

  
</MapComp>

---


## Sites by phase

<Row>
  <Col md={4}>
    ### Phase 1
    <MapComp
      height="400px"
      center= "24.173,32.911,9"
      baseLayers="EsriSatellite, EsriTopo, OSM">
  
      <VectorLayer 
        name="Sites"
        path2geojson="../data/sites.geojson"
        popupTemplate={
          (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
          <br />— ${attribs.type}
          <hr />${attribs.bibliography}` }
        }
        checked={true}
        pointToLayer={
          (f, ll) => {
            return L.circleMarker(ll, {
              radius: 4,
              fillColor: '#00ffff',
              color: "#000",
              weight: 1,
              opacity: 1,
              fillOpacity: 0.8
            });
          }}
          filter={f => (f.properties.ph1 === 'X') }
      />
</MapComp>
  </Col>
  <Col md={4}>
    ### Phase 2
    <MapComp
  height="400px"
  center= "24.173,32.911,9"
  baseLayers="EsriSatellite, EsriTopo, OSM">
  
  <VectorLayer 
    name="Sites"
    path2geojson="../data/sites.geojson"
    popupTemplate={
      (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
      <br />— ${attribs.type}
      <hr />${attribs.bibliography}` }
    }
    checked={true}
    pointToLayer={
      (f, ll) => {
        return L.circleMarker(ll, {
          radius: 4,
          fillColor: '#00ffff',
          color: "#000",
          weight: 1,
          opacity: 1,
          fillOpacity: 0.8
        });
      }}
      filter={f => (f.properties.ph2 === 'X') }
  />
</MapComp>
  </Col>
  <Col md={4}>

    ### Phase 3
    <MapComp
  height="400px"
  center= "24.173,32.911,9"
  baseLayers="EsriSatellite, EsriTopo, OSM">
  
  <VectorLayer 
    name="Sites"
    path2geojson="../data/sites.geojson"
    popupTemplate={
      (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
      <br />— ${attribs.type}
      <hr />${attribs.bibliography}` }
    }
    checked={true}
    pointToLayer={
      (f, ll) => {
        return L.circleMarker(ll, {
          radius: 4,
          fillColor: '#00ffff',
          color: "#000",
          weight: 1,
          opacity: 1,
          fillOpacity: 0.8
        });
      }}
      filter={f => (f.properties.ph3 === 'X') }
  />
</MapComp>
  </Col>
</Row>

<Row className="mt-5">
    <Col md={4}>
    ### Phase 4
    <MapComp
  height="400px"
  center= "24.173,32.911,9"
  baseLayers="EsriSatellite, EsriTopo, OSM">
  
  <VectorLayer 
    name="Sites"
    path2geojson="../data/sites.geojson"
    popupTemplate={
      (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
      <br />— ${attribs.type}
      <hr />${attribs.bibliography}` }
    }
    checked={true}
    pointToLayer={
      (f, ll) => {
        return L.circleMarker(ll, {
          radius: 4,
          fillColor: '#00ffff',
          color: "#000",
          weight: 1,
          opacity: 1,
          fillOpacity: 0.8
        });
      }}
      filter={f => (f.properties.ph4 === 'X') }
  />
</MapComp>
  </Col>
  <Col md={4}>

    ### Phase 5
    <MapComp
  height="400px"
  center= "24.173,32.911,9"
  baseLayers="EsriSatellite, EsriTopo, OSM">
  
  <VectorLayer 
    name="Sites"
    path2geojson="../data/sites.geojson"
    popupTemplate={
      (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
      <br />— ${attribs.type}
      <hr />${attribs.bibliography}` }
    }
    checked={true}
    pointToLayer={
      (f, ll) => {
        return L.circleMarker(ll, {
          radius: 4,
          fillColor: '#00ffff',
          color: "#000",
          weight: 1,
          opacity: 1,
          fillOpacity: 0.8
        });
      }}
      filter={f => (f.properties.ph5 === 'X') }
  />
</MapComp>
  </Col>
  <Col md={4}>

    ### Phase 6
    <MapComp
  height="400px"
  center= "24.173,32.911,9"
  baseLayers="EsriSatellite, EsriTopo, OSM">
  
  <VectorLayer 
    name="Sites"
    path2geojson="../data/sites.geojson"
    popupTemplate={
      (attribs) => { return `<p><strong>${attribs.codex}. ${attribs.name} (${attribs.locality})</strong>
      <br />— ${attribs.type}
      <hr />${attribs.bibliography}` }
    }
    checked={true}
    pointToLayer={
      (f, ll) => {
        return L.circleMarker(ll, {
          radius: 4,
          fillColor: '#00ffff',
          color: "#000",
          weight: 1,
          opacity: 1,
          fillOpacity: 0.8
        });
      }}
      filter={f => (f.properties.ph6 === 'X') }
  />
</MapComp>
  </Col>
</Row>
